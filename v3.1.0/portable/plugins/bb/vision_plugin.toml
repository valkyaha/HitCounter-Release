# Bloodborne (Spanish) Vision Plugin
# For console autosplitting via screen capture

[game]
id = "bb_console"
name = "Bloodborne (Console - Spanish)"
version = "1.0.0"

[capture]
# Capture from Firefox showing YouTube video
source_type = "window"
window_title = "Firefox"
# 4 frames per second for testing
analysis_fps = 4
# Scale to 50% for faster processing
analysis_scale = 0.5

# =============================================================================
# TRIGGERS - Boss Kill Detection (Spanish: "PRESA ASESINADA")
# =============================================================================

# "PRESA ASESINADA" text detection using template matching
[[triggers]]
id = "prey_slaughtered"
name = "Prey Slaughtered (PRESA ASESINADA)"
type = "template"
action = "split"
cooldown_ms = 10000
enabled = true

# Search region - the text appears in the upper-center area
[triggers.region]
x = "20%"
y = "15%"
width = "60%"
height = "30%"

[triggers.template]
# Full screenshot - will try to match (low threshold for YouTube compression)
image = "templates/PRESA_ASESINADA.jpg"
threshold = 0.50  # Lower threshold for YouTube video quality
grayscale = true

# Alternative: Black loading screen detection
[[triggers]]
id = "loading_screen"
name = "Loading Screen"
type = "color"
action = "pause"
cooldown_ms = 2000
enabled = false

[triggers.region]
x = "10%"
y = "10%"
width = "80%"
height = "80%"

[triggers.color]
target = [0, 0, 0]
tolerance = 20
min_match_percent = 85.0
detect_presence = true
